{% extends '::base.html.twig' %}

{% block javascripts %}
{{ parent() }}
<script src="{{ asset('bundles/caciccommon/js/jquery.maskedinput-1.3.1.min.js') }}" type="text/javascript" language="javascript"></script>
{% endblock %}

{% block body %}

<div class="span8">
	<div class="widget">
		<div class="widget-content">
			<div class="page-header">
				<h3>
					{% if form.vars.value.idServidorAutenticacao %}
						Edição dos dados do servidor de autenticação
					{% else %}
						Cadastro de novo servidor de autenticação
					{% endif %}
				</h3>
			</div>


			<form id="formServidorAutenticacao" class="form-horizontal" action="{{ path(app.request.attributes.get('_route'), app.request.attributes.get('_route_params')) }}" method="post" {{ form_enctype(form) }}>
				<div class="tabbable">
					<ul class="nav nav-tabs">
						<li class="active">
							<a href="#form-servidorautenticacao-dados" data-toggle="tab">Dados do servidor</a>
						</li>
						<li>
							<a href="#form-servidorautenticacao-consulta" data-toggle="tab">Consulta de dados</a>
						</li>
						<li>
							<a href="#form-servidorautenticacao-retorno" data-toggle="tab">Retorno de dados</a>
						</li>
						<li>
							<a href="#form-servidorautenticacao-redes" data-toggle="tab">Redes associadas</a>
						</li>
					</ul>
					
					<div class="tab-content">
						<div class="tab-pane active" id="form-servidorautenticacao-dados">
							{{ form_row(form.nmServidorAutenticacao, {'form_type': 'horizontal'}) }}
					        {{ form_row(form.nmServidorAutenticacaoDns, {'form_type': 'horizontal'}) }}
							{{ form_row(form.teIpServidorAutenticacao, {'form_type': 'horizontal'}) }}
							{{ form_row(form.idTipoProtocolo, {'form_type': 'horizontal'}) }}
							{{ form_row(form.nuVersaoProtocolo, {'form_type': 'horizontal'}) }}
							{{ form_row(form.nuPortaServidorAutenticacao, {'form_type': 'horizontal'}) }}
							{{ form_row(form.teObservacao, {'form_type': 'horizontal'}) }}
							{{ form_row(form.inAtivo, {'form_type': 'horizontal'}) }}
						</div>
						
						<div class="tab-pane" id="form-servidorautenticacao-consulta">
							<h5>Atributos para Consulta de Dados de Pessoas no Serviço de Diretórios</h5>
							<br />
							{{ form_row(form.teAtributoIdentificador) }}
						</div>
						
						<div class="tab-pane" id="form-servidorautenticacao-retorno">
							<h5>Atributos para Retorno de Dados de Pessoas no Serviço de Diretórios</h5>
							<br />
							{{ form_row(form.teAtributoRetornaNome) }}
							{{ form_row(form.teAtributoRetornaEmail) }}
						</div>
						
						<div class="tab-pane" id="form-servidorautenticacao-redes">
							{% if form.vars.value.idServidorAutenticacao != true %}<center><b>Nenhuma rede associada.</b></center>{% endif %}
				        	{% block redesAssociadas %}{% endblock %}
				        </div>
						
					</div><!-- /tab-content -->
				</div><!-- /tabbable -->
				<br />
				
				<div class="control-group">
                  <div class="controls">
                    <button type="reset" class="btn">
						<i class="icon-refresh"></i>
						Resetar Valores
					</button>
					<button type="submit" class="btn btn-primary">
						<i class="icon-ok-sign"></i>
						Salvar Dados
					</button>
                  </div><!-- /controls -->
                </div><!-- /control-group -->
                
				{{ form_rest(form) }}
				
			</form>
			<hr />
			<div>
				<a class="btn btn-danger"  href="{{ path('cacic_servidorautenticacao_index') }}">
					<i class="icon-remove-sign"></i>
					Cancelar
				</a>
			</div>
		</div> <!-- /widget-content -->
	</div> <!-- /widget -->
</div> <!-- /span8 -->

<div class="span4">
	<div class="widget widget-box">
		<div class="widget-header">
			<i class="icon-info-sign"></i>
			<h3>Informações Adicionais</h3>
		</div> <!-- /widget-header -->
					
		<div class="widget-content">
			<p>
				As informações que deverão ser cadastradas abaixo referem-se a um servidor a ser utilizado na autenticação de usuários do suporte remoto seguro.
			</p>
		</div> <!-- /widget-content -->
	</div> <!-- /widget-box -->
</div><!-- /span4 -->

<script type="text/javascript">

$( document ).ready(function(){
	$( "#ServidorAutenticacao_teIpServidorAutenticacao" ).mask( "999.999.999.999" );
});

</script>

{% endblock %}